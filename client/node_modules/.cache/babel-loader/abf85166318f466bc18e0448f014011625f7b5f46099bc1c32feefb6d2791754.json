{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{Stock_full_data,Stock_full_data_opt,save_data,make_stock_data}from'../../Data/stock_data';import Box from'@mui/material/Box';import Table from'@mui/material/Table';import TableHead from'@mui/material/TableHead';import TableBody from'@mui/material/TableBody';import TableRow from'@mui/material/TableRow';import TableCell from'@mui/material/TableCell';import IconButton from'@mui/material/IconButton';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import DeleteIcon from'@mui/icons-material/Delete';import AddIcon from'@mui/icons-material/Add';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function string_to_float(input){let com=false;if(typeof input=='string'){for(const i of input){//console.log(i);\n//console.log(isNaN(Number(i)));\nif(isNaN(Number(i))){if(i==\".\"&&com!=true){com=true;}else{return false;}}else if(i==\" \"){return false;}}return true;}else{return false;}}function Global_setting_post(){const stock_full_data_opt=useContext(Stock_full_data_opt).ref;const[global_list,set_global_list]=useState(stock_full_data_opt.current.item);function add_global_stock(){stock_full_data_opt.current.item=[...stock_full_data_opt.current.item,make_stock_data(\"\",crypto.randomUUID(),0,0,stock_full_data_opt.current.id,[])];set_global_list([...stock_full_data_opt.current.item]);}function delete_click(idx){//console.log(\"del\");\nstock_full_data_opt.current.item.splice(idx,1);set_global_list([...stock_full_data_opt.current.item]);}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",sx:{width:\"70%\"},children:\"name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",sx:{width:\"20%\"},children:\"wantper\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",sx:{width:\"10%\"},children:/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:add_global_stock,children:/*#__PURE__*/_jsx(AddIcon,{})})})]})})})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsx(TableBody,{children:global_list.map((element,index)=>/*#__PURE__*/_jsx(Global_stock,{ele:element,delete_func:delete_click,idx:index},element.id))})})})]});}function Global_stock(props){const[wantper,set_wantper]=useState(props.ele.wantper);function name_change(e){props.ele.name=e.target.value;}function per_change(e){if(string_to_float(e.target.value)==true){props.ele.wantper=parseFloat(e.target.value);set_wantper(e.target.value);}else{set_wantper(wantper);}}return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{sx:{width:\"70%\"},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,onChange:name_change,defaultValue:props.ele.name})}),/*#__PURE__*/_jsx(TableCell,{sx:{width:\"20%\"},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,onChange:per_change,value:wantper})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",sx:{width:\"10%\"},children:/*#__PURE__*/_jsx(IconButton,{color:\"error\",onClick:()=>{props.delete_func(props.idx);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]});}export default Global_setting_post;","map":{"version":3,"names":["React","useState","useContext","Stock_full_data","Stock_full_data_opt","save_data","make_stock_data","Box","Table","TableHead","TableBody","TableRow","TableCell","IconButton","Button","TextField","DeleteIcon","AddIcon","jsx","_jsx","jsxs","_jsxs","string_to_float","input","com","i","isNaN","Number","Global_setting_post","stock_full_data_opt","ref","global_list","set_global_list","current","item","add_global_stock","crypto","randomUUID","id","delete_click","idx","splice","children","align","sx","width","color","onClick","map","element","index","Global_stock","ele","delete_func","props","wantper","set_wantper","name_change","e","name","target","value","per_change","parseFloat","fullWidth","onChange","defaultValue"],"sources":["C:/Users/USER/jusick_server/client/src/Apps/Main_post/global_data_post/global_setting_post.js"],"sourcesContent":["import React, {useState, useContext} from \"react\";\r\n\r\nimport { Stock_full_data, Stock_full_data_opt, save_data, make_stock_data } from '../../Data/stock_data';\r\n\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableCell from '@mui/material/TableCell';\r\n\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\nfunction string_to_float(input)\r\n{\r\n    let com = false;\r\n    if (typeof(input) == 'string')\r\n    {\r\n\r\n        for (const i of input)\r\n        {\r\n            //console.log(i);\r\n            //console.log(isNaN(Number(i)));\r\n            if (isNaN(Number(i)))\r\n            {\r\n                if (i == \".\" && com != true)\r\n                {\r\n                    com = true;\r\n                }\r\n                else\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n            else if (i == \" \")\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction Global_setting_post()\r\n{\r\n    const stock_full_data_opt = useContext(Stock_full_data_opt).ref;\r\n    const [global_list, set_global_list] = useState(stock_full_data_opt.current.item);\r\n\r\n\r\n    function add_global_stock()\r\n    {\r\n        stock_full_data_opt.current.item = [...stock_full_data_opt.current.item, \r\n            make_stock_data(\"\", crypto.randomUUID(), 0, 0, stock_full_data_opt.current.id, [])\r\n        ]\r\n        set_global_list([...stock_full_data_opt.current.item]);\r\n    }\r\n\r\n    function delete_click(idx)\r\n    {\r\n        //console.log(\"del\");\r\n        stock_full_data_opt.current.item.splice(idx, 1);\r\n        set_global_list([...stock_full_data_opt.current.item]);\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <Box>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\" sx={{width: \"70%\"}}>\r\n                                name\r\n                            </TableCell>\r\n                            <TableCell align=\"center\" sx={{width: \"20%\"}}>\r\n                                wantper\r\n                            </TableCell>\r\n                            <TableCell align=\"center\" sx={{width: \"10%\"}}>\r\n                                <IconButton color=\"primary\" onClick={add_global_stock}>\r\n                                    <AddIcon/>\r\n                                </IconButton>\r\n                                \r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                </Table>\r\n            </Box>\r\n            <Box>\r\n                <Table>\r\n                    <TableBody>\r\n                        {\r\n                            global_list.map((element, index) => (\r\n                                <Global_stock key={element.id} ele={element}\r\n                                    delete_func={delete_click} idx={index}/>\r\n                            ))\r\n                        }\r\n                    </TableBody>\r\n                </Table>\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nfunction Global_stock(props)\r\n{\r\n\r\n    const [wantper, set_wantper] = useState(props.ele.wantper);\r\n\r\n    function name_change(e)\r\n    {\r\n        props.ele.name = e.target.value;\r\n    }\r\n\r\n    function per_change(e)\r\n    {\r\n        if (string_to_float(e.target.value) == true)\r\n        {\r\n            props.ele.wantper = parseFloat(e.target.value);\r\n            set_wantper(e.target.value);\r\n        }\r\n        else\r\n        {\r\n            set_wantper(wantper);\r\n        }\r\n    }\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <TableRow>\r\n            <TableCell sx={{width: \"70%\"}}>\r\n                <TextField fullWidth onChange={name_change}\r\n                    defaultValue={props.ele.name}/>\r\n            </TableCell>\r\n            <TableCell sx={{width: \"20%\"}}>\r\n                <TextField fullWidth onChange={per_change}\r\n                    value={wantper} />\r\n            </TableCell>\r\n            <TableCell align=\"center\" sx={{width: \"10%\"}}>\r\n                <IconButton color=\"error\"\r\n                    onClick={()=> {props.delete_func(props.idx)}}>\r\n                    <DeleteIcon />\r\n                </IconButton>\r\n            </TableCell>\r\n        </TableRow>\r\n    )\r\n}\r\n\r\nexport default Global_setting_post;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}