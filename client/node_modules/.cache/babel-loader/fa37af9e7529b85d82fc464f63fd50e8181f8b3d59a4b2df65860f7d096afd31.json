{"ast":null,"code":"import React,{useState,useContext}from\"react\";import dayjs from'dayjs';import{Stock_full_data,Stock_full_data_opt}from\"../../Data/stock_data.js\";import{axios_get_data_list,axios_get_data_delete,axios_get_data_load}from\"../../Server/client_call_server.js\";import Box from\"@mui/material/Box\";import Button from\"@mui/material/Button\";import{LocalizationProvider}from'@mui/x-date-pickers/LocalizationProvider';import{AdapterDayjs}from'@mui/x-date-pickers/AdapterDayjs';import{DateCalendar}from'@mui/x-date-pickers/DateCalendar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Data_set_post(props){const cont_stock_full_data_opt=useContext(Stock_full_data_opt);const cont_stock_full_data=cont_stock_full_data_opt.ref;//const [date, set_date] = useState(dayjs(cont_stock_full_data.current.date));\nconst[date_list,set_date_list]=useState([]);function date_chagne(newValue){//console.log(dayjs(newValue).format(\"YY-MM-DD\"));\ncont_stock_full_data.current.date=dayjs(newValue).format(\"YYYY-MM-DD\");console.log(cont_stock_full_data.current);props.set_date(dayjs(newValue).format(\"YYYY-MM-DD\"));}async function list_call_click(){const list=await axios_get_data_list(cont_stock_full_data_opt.user_id);set_date_list([...list]);}async function delete_click(){await axios_get_data_delete(props.date,cont_stock_full_data_opt.user_id);}async function list_date_load(date){const data=await axios_get_data_load(date,cont_stock_full_data_opt.user_id);const data_json=JSON.parse(data.data);cont_stock_full_data_opt.ref.current=data_json;cont_stock_full_data_opt.update({...cont_stock_full_data_opt.ref.current});props.set_date(cont_stock_full_data.current.date);}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDayjs,children:/*#__PURE__*/_jsx(DateCalendar,{value:dayjs(props.date),onChange:date_chagne})}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(Button,{onClick:list_call_click,children:\"full_data\"}),date_list.map(element=>/*#__PURE__*/_jsx(Date_list_button,{date:element,load_func:list_date_load},element))]})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",onClick:delete_click,children:\"delete \"+props.date})})]});}function Date_list_button(props){function button_click(){props.load_func(props.date);}return/*#__PURE__*/_jsx(Button,{onClick:button_click,children:props.date});}export default Data_set_post;","map":{"version":3,"names":["React","useState","useContext","dayjs","Stock_full_data","Stock_full_data_opt","axios_get_data_list","axios_get_data_delete","axios_get_data_load","Box","Button","LocalizationProvider","AdapterDayjs","DateCalendar","jsx","_jsx","jsxs","_jsxs","Data_set_post","props","cont_stock_full_data_opt","cont_stock_full_data","ref","date_list","set_date_list","date_chagne","newValue","current","date","format","console","log","set_date","list_call_click","list","user_id","delete_click","list_date_load","data","data_json","JSON","parse","update","children","sx","display","flexDirection","dateAdapter","value","onChange","onClick","map","element","Date_list_button","load_func","variant","color","button_click"],"sources":["C:/Users/USER/jusick_server/client/src/Apps/Main_post/data_post/data_set_post.js"],"sourcesContent":["import React, { useState, useContext} from \"react\";\r\nimport dayjs from 'dayjs';\r\n\r\nimport { Stock_full_data, Stock_full_data_opt } from \"../../Data/stock_data.js\";\r\nimport { axios_get_data_list, axios_get_data_delete, axios_get_data_load } from \"../../Server/client_call_server.js\";\r\n\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { DateCalendar } from '@mui/x-date-pickers/DateCalendar';\r\n\r\n\r\n\r\nfunction Data_set_post(props) {\r\n    const cont_stock_full_data_opt = useContext(Stock_full_data_opt)\r\n    const cont_stock_full_data = cont_stock_full_data_opt.ref;\r\n    \r\n    //const [date, set_date] = useState(dayjs(cont_stock_full_data.current.date));\r\n    const [date_list, set_date_list] = useState([]);\r\n\r\n    function date_chagne (newValue)\r\n    {\r\n        //console.log(dayjs(newValue).format(\"YY-MM-DD\"));\r\n        cont_stock_full_data.current.date = dayjs(newValue).format(\"YYYY-MM-DD\");\r\n        console.log(cont_stock_full_data.current);\r\n        props.set_date(dayjs(newValue).format(\"YYYY-MM-DD\"));\r\n        \r\n    }\r\n\r\n    async function list_call_click()\r\n    {\r\n        const list = await axios_get_data_list(cont_stock_full_data_opt.user_id);\r\n        set_date_list([...list]);\r\n    }\r\n\r\n    async function delete_click()\r\n    {\r\n        await axios_get_data_delete(props.date, cont_stock_full_data_opt.user_id);\r\n    }\r\n\r\n    async function list_date_load(date)\r\n    {\r\n        const data = await axios_get_data_load(date, cont_stock_full_data_opt.user_id);\r\n        const data_json = JSON.parse(data.data);\r\n        cont_stock_full_data_opt.ref.current = data_json;\r\n        cont_stock_full_data_opt.update({...cont_stock_full_data_opt.ref.current});\r\n        props.set_date(cont_stock_full_data.current.date);\r\n    }\r\n\r\n    return(\r\n        <Box>\r\n            <Box sx={{display: \"flex\", flexDirection: \"row\"}}>\r\n                <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n                    <DateCalendar value={dayjs(props.date)} onChange={date_chagne}/>\r\n                </LocalizationProvider>\r\n                <Box sx={{display: \"flex\", flexDirection: \"column\"}}>\r\n                    <Button onClick={list_call_click}>\r\n                        full_data\r\n                    </Button>\r\n                    {date_list.map((element) => (\r\n                        <Date_list_button key={element} date={element} load_func={list_date_load}/>\r\n\r\n                    ))}\r\n                </Box>\r\n            </Box>\r\n            <Box>\r\n                <Button variant=\"outlined\" color=\"error\"\r\n                    onClick={delete_click}>\r\n                    {\"delete \" + props.date}\r\n                </Button>\r\n            </Box>\r\n            \r\n            \r\n        </Box>\r\n    )\r\n}\r\n\r\nfunction Date_list_button(props)\r\n{\r\n\r\n    function button_click()\r\n    {\r\n        props.load_func(props.date)\r\n    }\r\n\r\n    return (\r\n        <Button onClick={button_click}>\r\n            {props.date}\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default Data_set_post;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}